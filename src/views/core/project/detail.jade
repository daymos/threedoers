
extends ../base

block title
  |  Your Project

block content

  .jumbotron

    h3
      a#title(data-type="text", data-url="/project/title/#{project.id}", data-title="Enter the Title") #{project.title}
    canvas#cv(width='600', height='300')
    p.hide#message-canvas
      | It seems you are using an outdated browser that does not support canvas :-(

  .row
    .col-md-12
      .media
        .media-body
          h4.media-heading(class=(project.status!=1)?"":"hide")
            | Object Volume is&nbsp;
            span#volume #{project.volume}
            &nbsp;
            span#unit #{project.unit}
            sup 3
            br
            br
            | Price:&nbsp;
            span.capitalize#price #{project.price}
            span &nbsp;&nbsp;Euro
          h5
            | Status:&nbsp;
            span.capitalize#status #{project.humanizedStatus()}
          hr(style='margin: 8px auto;')

          select#color-chooser.col-md-2.col-md-offset-1
            - for color in colors
              option(value="#{color}") #{color}

          select#density-chooser.col-md-2.col-md-offset-1
            - for density in densities
              option(value="#{density[0]}") #{density[1]}

block extra-headers
  link(rel='stylesheet', href='//cdnjs.cloudflare.com/ajax/libs/x-editable/1.5.0/bootstrap3-editable/css/bootstrap-editable.css')
  meta(name="csrf-token", content="#{csrfToken}")

block scripts
    script(src='/js/views/project_detail.js')
    script(type='text/javascript', src='/vendor/jsc3d.min.js')
    script(src='/vendor/socket.io.min.js')
    script(src='//cdnjs.cloudflare.com/ajax/libs/x-editable/1.5.0/bootstrap3-editable/js/bootstrap-editable.min.js')
    script.
      var project = {
        id: "#{project._id}",
        filename: "#{project.file}",
        color: "#{project.color?project.color:'black'}",
        density: "#{project.density}"
      };
      var port = "#{io.port}";
